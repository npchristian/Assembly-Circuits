            INCLUDE 'derivative.inc'


; export symbols
            XDEF Entry
            ;, _Startup, main
            ; we use export 'Entry' as symbol. This allows us to
            ; reference 'Entry' either in the linker .prm file
            ; or from C/C++ later on

            XREF __SEG_END_SSTACK      ; symbol defined by the linker for the end of the stack

MY_CONSTANT_ROM: SECTION
port_t EQU $240
port_s EQU $248
ddr_s equ $24A ;these values and directions are from lab 2 slides page 6
output dc.b $FF

MY_EXTENDED_RAM: SECTION
val         dc.b  $12, $18, $24, $36, $3A, $43, $4B, $51, $61, $6F, $7A, $92, $B6, $C3, $D6, $F1

MY_VARIABLES: SECTION
temp: ds.b $1
temp_2: ds.b $2

; code section
My_Code:     SECTION
;main:
;_Startup:
Entry:
      loop:
          movb #$FF, ddr_s ;set pin to output high by passing $FF (LOGIC HIGH) this is from lab2 page 6
          ldx #val   ; store the values we are going to output to X
          ldaa #$0   ; store a 0 in A for the loop2 below
          ldab port_t   ; read in the switch value
          stab temp  ; store the switch value in a temp variable
          cmpa temp  ; if we do not need to increment X move to FOUND
          BEQ found
          loop2:     ; if not, increment X until we find the value
             inca
             inx
              cmpa temp
              BNE loop2
       found:          ; X is now equal to the address of the value we are looking for
          ldy 0, x
          sty port_s
       BRA loop
       nop
          